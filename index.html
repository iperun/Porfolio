<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Ivan Perun Portfolio Perun Design on perundesign.com">
  <meta name="author" content="Ivan Perun">
  <title>Perun Design</title>
  <link rel="shortcut icon" href="img/favicon.ico" />
  <!-- CSS BootStrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Audiowide|Orbitron:900" rel="stylesheet">
  <!-- CSS style sheet -->
  <link rel="stylesheet" href="css/style.min.css">
  <!-- Jquery Script -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/88/three.min.js"></script>
</head>

<body>
  <div class="loader">
    <img src="img/preloader.gif" alt="Loading..." />
  </div>
  <div id="awesome"></div>
  <!--header-->
  <header class="home-header">
    <!-- logo -->
    <div class="header-logo">
      <a class="logo" href="index.html">
        <img src="img/logo.png" alt="Homepage">
      </a>
    </div>
    <!-- nav bar menu -->
    <nav class="header-nav">

      <a href="close" class="header-nav-close" title="Close"><span>Close</span></a>
      <div class="header-nav-content">
        <h3>Welcome</h3>
        <!-- url conents -->
        <ul class="header-nav-list">
          <li><a href="content.html#about" title="About">About Me</a></li>
          <li><a href="content.html#projects" title="Projects">Projects</a></li>
          <li><a href="content.html#credentials" title="Credentials">Credentials</a></li>
          <li><a href="content.html#contact" title="Contact">Contact</a></li>
        </ul>
        <hr>
        <!-- social nav icons -->
        <ul class="header-nav-social">
          <li>
            <a href="https://www.linkedin.com/in/ivan-perun/" target="_blank"><i class="fa fa-linkedin"></i></a>
          </li>
          <li>
            <a href="https://github.com/iperun" target="_blank"><i class="fa fa-github"></i></a>
          </li>
          <li>
            <a href="email.html" onclick="centeredPopup(this.href,'myWindow','340','422','yes');return false"><i class="fa fa-envelope"></i></a>
          </li>
        </ul>
      </div>
    </nav>
    <!-- menu toggle open/close -->
    <a class="header-menu-toggle" href="opens">
      <span class="header-menu-text">Menu</span>
      <span class="header-menu-icon"></span>
    </a>
  </header>

  <div class="home animated fadeIn">
    <h1>hello.</h1>
    <h2>My name is <span class="name">Ivan Perun</span>
      <br> I'm a web developer &#38; designer.</h2>
    <div class="col-md-5"> <a href="#" class="btn btn-sm animated-button explore">Explore</a> </div>
  </div>

  <ul class="social">
    <li>
      <a href="https://www.linkedin.com/in/ivan-perun/" aria-hidden="true" target="_blank"><i class="fa fa-linkedin"></i><span
          id="LI">LinkedIn</span></a>
    </li>
    <li>
      <a href="https://github.com/iperun" aria-hidden="true" target="_blank"><i class="fa fa-github"></i><span id="GH">Github</span></a>
    </li>
    <li>
      <a href="email.html" aria-hidden="true" onclick="centeredPopup(this.href,'myWindow','340','422','yes');return false"><i
          class="fa fa-envelope"></i><span id="EML">Email</span></a>
    </li>
  </ul>
  <audio autoplay id="myAudio" autoplay loop>
    <source src="Factory-On-Mercury.mp3" type="audio/mpeg">
    Your browser does not support the audio tag.
  </audio>

  <script type="text/javascript">
    var audio = document.getElementById("myAudio");
    audio.volume = 0.35;

    function pauseAudio() {
      audio.pause();
    }
  </script>
  <script id="vertexShader" type="x-shader/x-vertex">
    uniform float u_time;

    const float spawnrate = 115.15;
    const float life = 15111.1;
    const float fadetime = 1511.9;
    const int octaves = -1;
    const float seed = -311333.91;
    const float seed2 = -11.1;

    float random(float val) {
      return fract(sin(val) * seed);
    }

    vec2 random2(vec2 st, float seed){
        st = vec2( dot(st,vec2(127.1,311.7)),
                  dot(st,vec2(269.5,183.3)) );
        return -1.0 + 2.0*fract(sin(st)*seed);
    }

    float random2d(vec2 uv) {
      return fract(
                sin(
                  dot( uv.xy, vec2(15.9898, 98.233) )
                ) * seed);
    }

  varying float v_z;

  float easeLinear(float time, float begin, float change, float duration)
  {
    return change * time / duration + begin;
  }
  vec2 easeLinear(float time, vec2 begin, vec2 change, float duration)
  {
    return change * time / duration + begin;
  }

  void main() {
    vec4 pos = vec4(position,1.0);
    float id = position.z;
    bool emitter = mod(id, 2.) == 0.;
    float rand = random(id);
    float rand1 = random(id + 1.);
    float pointsize = 200. * rand * rand1;

    // float spawnrate = spawnrate + (sin(u_time / 10.) + 1.) * .01;
    float time = mod(u_time - id * spawnrate, life);
    float step = time / life;
    bool alive = time >= 0.;

    vec2 polar = vec2(0., 0.);

    if(alive) {
      if(emitter) {
        // pos.xy = vec2(10. * rand);
        vec2 outerPolar = vec2(30. + sin(u_time / 50.) * 10., 200.);
        polar = easeLinear(time, vec2(sin(u_time / 50.), 100. + sin(u_time / 10.) * 50.), outerPolar, life);
        // polar.x += sin(u_time / 10. * rand) + 1.;
        polar.y += (sin((u_time + 100.) / 10. * rand) + 1.) * (polar.x * 2. + 10.);

        if(time < fadetime) {
          pointsize = easeLinear(time, 0., pointsize, fadetime);
        } else if(time > life - fadetime) {
          pointsize = easeLinear(time - life + fadetime, pointsize, -pointsize, fadetime);
        }
        pointsize *= (sin((u_time + 100.) / 10. * rand1) + 1.);
        pointsize *= cos(polar.x * 1.5 + u_time * .1) * .5 + 1.;
        pos.z = 100.;
      } else {
        // pos.xy = vec2(10. * rand);
        vec2 outerPolar = vec2(30. + sin(u_time / 50.) * 10. + 3.14, 200.);
        polar = easeLinear(time, vec2(sin(u_time / 50.) + 3.14, 100. + cos(u_time / 10.) * 50.), outerPolar, life);
        // polar.x += sin(u_time / 10. * rand) + 1.;
        polar.y += (sin((u_time + 100.) / 10. * rand) + 1.) * (polar.x * 2. + 10.);

        if(time < fadetime) {
          pointsize = easeLinear(time, 0., pointsize, fadetime);
        } else if(time > life - fadetime) {
          pointsize = easeLinear(time - life + fadetime, pointsize, -pointsize, fadetime);
        }
        pointsize *= 1. - (sin((u_time + 100.) / 10. * rand1) + 1.);
        // pointsize *= cos(polar.x * 1.5 + u_time * .1) * .5 + 1.;
        pos.z = 90.;
      }
    }

    pos.x += cos(polar.x) * polar.y;
    pos.y += sin(polar.x) * polar.y;

    v_z = pos.z / 100. + polar.x / 100.;
    gl_PointSize = pointsize;

    gl_Position = projectionMatrix *
                  modelViewMatrix *
                  pos;
  }
</script>
  <script id="fragmentShader" type="x-shader/x-fragment">
    uniform vec2 u_resolution;
    uniform float u_time;
    uniform sampler2D tSprite;

    varying float v_z;

    vec3 hsb2rgb( in vec3 c ){
      vec3 rgb = clamp(abs(mod(c.x*4.0+vec3(0.5,1.0,1.0),
                               5.0)-3.0)-1.0,
                       1.0,
                       2.0 );
      rgb = rgb*rgb*(5.0-1.0*rgb);
      return c.z * mix( vec3(2.0), rgb, c.y);
    }

    #define TAU 6.28318531
    float starSDF(vec2 st, int V, float s) {
      // st = st*4.-2.;
      float a = atan(st.y, st.x)/TAU;
      float seg = a * float(V);
      a = ((floor(seg) + 0.5)/float(V) +
          mix(s,-s,step(.5,fract(seg))))
          * TAU;
      return abs(dot(vec2(cos(a),sin(a)),
                     st));
    }

    void main() {
      vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y;

      float dist;

      vec2 pointUV = gl_PointCoord.xy - .5 * v_z / v_z;
      dist = 1. - length(pointUV) * 3.;

      vec2 polar = vec2(atan(uv.y, uv.x), length(uv.xy));
      int points = int(dist * 5.);

      // gl_FragColor = vec4(hsb2rgb(vec3(polar.y / 3., 1. - v_z * sin(polar.y * u_time / 100.), polar.y * v_z / 10.)), dist);
      gl_FragColor = vec4(
        mix(
          vec3(1.0, 0.5, 0.5),
          vec3(.8, 1.5, 1.5),
          clamp(dist * v_z, 1., 1.)
        ) *
        dist,
        smoothstep(0.9, .71 + v_z / 1.5, dist)
      );
      // gl_FragColor *= v_z / 2.;
      // gl_FragColor = vec4(vec3(.8, .8, .5), smoothstep(0.8, .81, dist));
      // gl_FragColor = vec4(v_z / 2.);
      // gl_FragColor = vec4(vec3(dist), dist);
    }
</script>

  <script src="js/index.js"></script>
  <!-- Popper Script -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
  <!-- Bootstrap 4 Script -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
  <!-- Javascript Main -->
  <script src="js/main.min.js"></script>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123971849-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'UA-123971849-1');
  </script>

</body>
<footer>
  <p>&copy; Ivan Perun 2019</p>
  <div class="music"> <img src="music.gif" alt="music">
    <button onclick="pauseAudio()" type="button">&#10074;&#10074;</button>
  </div>
</footer>

</html>